import React, { useEffect, useRef, useState } from 'react';
import LinuxLabNavigation from '../components/LinuxLabNavigation';
import UserDropdown from '../components/UserDropdown';
import { useAuth } from '../contexts/AuthContext';
import type { User } from '../models/LinuxLabTypes';
import '../styles/LinuxLabPage.css';

const PenTestModule1: React.FC = () => {
  const { user: currentUser } = useAuth();
  const user: User = {
    name: currentUser?.fullName || 'User',
    username: currentUser?.username || currentUser?.email || 'Unknown User',
    avatar: currentUser?.fullName?.charAt(0).toUpperCase() || 'U'
  };
  
  const [progress, setProgress] = useState<number>(0);
  const [runLabel, setRunLabel] = useState<string>('‚ñ∂ Ch·∫°y th·ª≠');
  const [currentSection, setCurrentSection] = useState<'theory' | 'quiz'>('theory');
  const [quizAnswers, setQuizAnswers] = useState<{[key: string]: string}>({});
  const [quizScore, setQuizScore] = useState<number | null>(null);
  const [showQuizResult, setShowQuizResult] = useState<boolean>(false);
  const terminalRef = useRef<HTMLDivElement>(null);

  useEffect(() => {
    let width = 0;
    const id = setInterval(() => {
      width += 1;
      if (width >= 80) {
        clearInterval(id);
      }
      setProgress(Math.min(width, 80));
    }, 20);
    return () => clearInterval(id);
  }, []);

  const handleRun = () => {
    setRunLabel('‚è≥ ƒêang ki·ªÉm tra...');
    setTimeout(() => {
      if (terminalRef.current) {
        const newLine = document.createElement('div');
        newLine.innerHTML = `<div class="terminal-prompt">root@kali:~# </div><div class="terminal-output" style="color: #00ff00;">
Starting Nmap 7.94 ( https://nmap.org )
Nmap scan report for target.local (192.168.1.100)
Host is up (0.00050s latency).
PORT     STATE SERVICE
22/tcp   open  ssh
80/tcp   open  http
443/tcp  open  https

Nmap done: 1 IP address (1 host up) scanned in 0.15 seconds</div>`;
        terminalRef.current.appendChild(newLine);
      }
      setRunLabel('‚úì ƒê√∫ng!');
      setTimeout(() => setRunLabel('‚ñ∂ Ch·∫°y th·ª≠'), 1500);
    }, 1200);
  };

  const handleQuizAnswer = (questionId: string, answer: string) => {
    setQuizAnswers(prev => ({
      ...prev,
      [questionId]: answer
    }));
  };

  const handleSubmitQuiz = () => {
    const correctAnswers: {[key: string]: string} = {
      'q1': 'a',
      'q2': 'a', 
      'q3': 'c',
      'q4': 'b',
      'q5': 'a'
    };
    
    let score = 0;
    Object.keys(correctAnswers).forEach(questionId => {
      if (quizAnswers[questionId] === correctAnswers[questionId]) {
        score += 20;
      }
    });
    
    setQuizScore(score);
    setShowQuizResult(true);
    
    // C·∫≠p nh·∫≠t ti·∫øn ƒë·ªô n·∫øu ƒë·∫°t ƒëi·ªÉm cao
    if (score >= 80) {
      setProgress(100);
    }
  };

  const quizQuestions = [
    {
      id: 'q1',
      question: 'Penetration Testing l√† g√¨?',
      options: {
        a: 'Ki·ªÉm tra b·∫£o m·∫≠t h·ªá th·ªëng b·∫±ng c√°ch m√¥ ph·ªèng t·∫•n c√¥ng',
        b: 'Ph√°t tri·ªÉn ph·∫ßn m·ªÅm b·∫£o m·∫≠t',
        c: 'C√†i ƒë·∫∑t firewall',
        d: 'Backup d·ªØ li·ªáu'
      },
      correct: 'a'
    },
    {
      id: 'q2',
      question: 'Giai ƒëo·∫°n ƒë·∫ßu ti√™n trong Pentest l√† g√¨?',
      options: {
        a: 'Reconnaissance (Thu th·∫≠p th√¥ng tin)',
        b: 'Exploitation',
        c: 'Post-exploitation',
        d: 'Covering tracks'
      },
      correct: 'a'
    },
    {
      id: 'q3',
      question: 'Nmap ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ l√†m g√¨?',
      options: {
        a: 'T·∫°o virus',
        b: 'Backup d·ªØ li·ªáu',
        c: 'Qu√©t c·ªïng v√† d·ªãch v·ª• m·∫°ng',
        d: 'C√†i ƒë·∫∑t h·ªá ƒëi·ªÅu h√†nh'
      },
      correct: 'c'
    },
    {
      id: 'q4',
      question: 'L·ªánh n√†o sau ƒë√¢y qu√©t t·∫•t c·∫£ c·ªïng?',
      options: {
        a: 'nmap -sS target',
        b: 'nmap -p- target',
        c: 'nmap -O target',
        d: 'nmap -A target'
      },
      correct: 'b'
    },
    {
      id: 'q5',
      question: 'Ethical Hacking c√≥ nghƒ©a l√† g√¨?',
      options: {
        a: 'Hacking c√≥ ƒë·∫°o ƒë·ª©c v√† h·ª£p ph√°p',
        b: 'Hacking ƒë·ªÉ ph√° ho·∫°i',
        c: 'Hacking kh√¥ng c√≥ m·ª•c ƒë√≠ch',
        d: 'Hacking ƒë·ªÉ tr·ªôm c·∫Øp'
      },
      correct: 'a'
    }
  ];

  return (
    <div className="linux-lab-page">
      <nav className="navigation">
        <div className="nav-container">
          <LinuxLabNavigation />
          <UserDropdown user={user} />
        </div>
      </nav>

      <div className="lesson-bar">Module 1: Gi·ªõi Thi·ªáu Penetration Testing</div>

      {/* Navigation Tabs */}
      <div className="module-tabs">
        <button 
          className={`tab-button ${currentSection === 'theory' ? 'active' : ''}`}
          onClick={() => setCurrentSection('theory')}
        >
          üìö L√Ω thuy·∫øt
        </button>
        <button 
          className={`tab-button ${currentSection === 'quiz' ? 'active' : ''}`}
          onClick={() => setCurrentSection('quiz')}
        >
          üß† Quiz
        </button>
      </div>

      <main className="body-container">
        <div className="lesson-column">
          <div className="user-info">
            <div className="user-avatar">üîê</div>
            <div className="user-details">
              <h3>Ethical Hacker</h3>
              <p>ƒêang h·ªçc - 150 ƒëi·ªÉm</p>
            </div>
          </div>

          <div className="progress-info">
            <h4>Ti·∫øn ƒë·ªô h·ªçc t·∫≠p</h4>
            <div className="progress-bar lesson">
              <div className="progress-fill" style={{ width: `${progress}%` }}></div>
            </div>
            <p>{progress}% ho√†n th√†nh</p>
            <p>Th·ªùi gian: 60 ph√∫t</p>
          </div>

          {currentSection === 'theory' && (
            <>
              <div className="lesson-section">
                <h2>üìñ B√†i t·∫≠p</h2>
                <p>B·∫°n h√£y th·ª±c hi·ªán l·ªánh Nmap ƒë·ªÉ qu√©t c√°c c·ªïng m·ªü tr√™n m√°y ch·ªß m·ª•c ti√™u:</p>
                <div className="code-block"><pre><code>nmap -sV 192.168.1.100</code></pre></div>
                <p>H√£y ƒë·ªçc ph·∫ßn l√Ω thuy·∫øt v√† xem h∆∞·ªõng d·∫´n ƒë·ªÉ bi·∫øt c√°ch l√†m b√†i n√†y!</p>
              </div>

              <div className="lesson-section">
                <h2>üß† L√Ω thuy·∫øt</h2>
            <div className="theory-section">
              <h3>Penetration Testing l√† g√¨?</h3>
              <p>Penetration Testing (Pentest) l√† qu√° tr√¨nh ki·ªÉm tra b·∫£o m·∫≠t h·ªá th·ªëng b·∫±ng c√°ch m√¥ ph·ªèng c√°c cu·ªôc t·∫•n c√¥ng th·ª±c t·∫ø. M·ª•c ƒë√≠ch l√† ph√°t hi·ªán c√°c l·ªó h·ªïng b·∫£o m·∫≠t tr∆∞·ªõc khi tin t·∫∑c th·ª±c s·ª± khai th√°c ch√∫ng.</p>
            </div>
            <div className="theory-section">
              <h3>C√°c giai ƒëo·∫°n c·ªßa Pentest</h3>
              <p>M·ªôt cu·ªôc Pentest th∆∞·ªùng bao g·ªìm 5 giai ƒëo·∫°n ch√≠nh:</p>
              <ul style={{ marginLeft: '20px', marginTop: '10px' }}>
                <li><span className="highlight">Reconnaissance</span> - Thu th·∫≠p th√¥ng tin</li>
                <li><span className="highlight">Scanning</span> - Qu√©t v√† ph√¢n t√≠ch h·ªá th·ªëng</li>
                <li><span className="highlight">Gaining Access</span> - X√¢m nh·∫≠p h·ªá th·ªëng</li>
                <li><span className="highlight">Maintaining Access</span> - Duy tr√¨ quy·ªÅn truy c·∫≠p</li>
                <li><span className="highlight">Covering Tracks</span> - X√≥a d·∫•u v·∫øt</li>
              </ul>
            </div>
            <div className="theory-section">
              <h3>Nmap - Network Mapper</h3>
              <p><span className="highlight">Nmap</span> l√† c√¥ng c·ª• qu√©t m·∫°ng m·∫°nh m·∫Ω nh·∫•t, ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ kh√°m ph√° host v√† service tr√™n m·∫°ng. C√°c l·ªánh c∆° b·∫£n:</p>
              <div className="code-block">
                <pre><code><span className="highlight">nmap -sn</span>     # Ping scan (host discovery)
<span className="highlight">nmap -sS</span>     # TCP SYN scan (stealth scan)
<span className="highlight">nmap -sV</span>     # Service version detection
<span className="highlight">nmap -O</span>      # OS detection
<span className="highlight">nmap -A</span>      # Aggressive scan (OS, version, script)
<span className="highlight">nmap -p-</span>     # Scan all ports (1-65535)</code></pre>
              </div>
            </div>
            <div className="theory-section">
              <h3>Port Scanning c∆° b·∫£n</h3>
              <p>Port scanning l√† qu√° tr√¨nh ki·ªÉm tra c√°c c·ªïng m·∫°ng ƒë·ªÉ x√°c ƒë·ªãnh service n√†o ƒëang ch·∫°y. V√≠ d·ª•:</p>
              <div className="terminal">
                <div className="terminal-content" ref={terminalRef}>
                  <div className="terminal-prompt">root@kali:~# </div>
                  <div className="terminal-command">nmap -sV 192.168.1.100</div>
                  <div className="terminal-output" style={{ color: '#00ff00' }}>
Starting Nmap 7.94<br/>
PORT     STATE SERVICE<br/>
22/tcp   open  ssh<br/>
80/tcp   open  http<br/>
443/tcp  open  https
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div className="lesson-section">
            <h2>üí° H∆∞·ªõng d·∫´n</h2>
            <div className="theory-section">
              <h3>C√°ch l√†m b√†i t·∫≠p</h3>
              <p>ƒê·ªÉ qu√©t c√°c c·ªïng v√† ph√°t hi·ªán service tr√™n m√°y ch·ªß m·ª•c ti√™u, b·∫°n s·ª≠ d·ª•ng l·ªánh:</p>
              <div className="terminal">
                <div className="terminal-content">
                  <div className="terminal-prompt">root@kali:~# </div>
                  <div className="terminal-command">nmap -sV 192.168.1.100</div>
                  <div className="terminal-output" style={{ color: '#00ff00' }}>
Starting Nmap 7.94 ( https://nmap.org )<br/>
Nmap scan report for target.local (192.168.1.100)<br/>
Host is up (0.00050s latency).<br/>
PORT     STATE SERVICE<br/>
22/tcp   open  ssh<br/>
80/tcp   open  http<br/>
443/tcp  open  https<br/>
<br/>
Nmap done: 1 IP address (1 host up) scanned in 0.15 seconds
                  </div>
                </div>
              </div>
              <p>Trong ƒë√≥:</p>
              <ul style={{ marginLeft: '20px', marginTop: '10px' }}>
                <li><span className="highlight">-sV</span>: Ph√°t hi·ªán phi√™n b·∫£n service</li>
                <li><span className="highlight">192.168.1.100</span>: ƒê·ªãa ch·ªâ IP m·ª•c ti√™u</li>
              </ul>
            </div>
            <div className="theory-section">
              <h3>‚ö†Ô∏è L∆∞u √Ω quan tr·ªçng</h3>
              <p style={{ color: '#ff6b6b', fontWeight: 'bold' }}>
                Ch·ªâ th·ª±c hi·ªán Penetration Testing tr√™n c√°c h·ªá th·ªëng b·∫°n c√≥ quy·ªÅn h·ª£p ph√°p! 
                Vi·ªác qu√©t ho·∫∑c t·∫•n c√¥ng h·ªá th·ªëng kh√¥ng c√≥ s·ª± cho ph√©p l√† b·∫•t h·ª£p ph√°p v√† c√≥ th·ªÉ b·ªã x·ª≠ l√Ω h√¨nh s·ª±.
              </p>
            </div>
          </div>
            </>
          )}

          {currentSection === 'quiz' && (
            <div className="lesson-section">
              <h2>üß† Quiz - Ki·ªÉm tra ki·∫øn th·ª©c</h2>
              <div className="quiz-container">
                {quizQuestions.map((question, index) => (
                  <div key={question.id} className="quiz-question">
                    <h4>{index + 1}. {question.question}</h4>
                    <div className="quiz-options">
                      {Object.entries(question.options).map(([key, value]) => (
                        <label key={key} className="quiz-option">
                          <input
                            type="radio"
                            name={question.id}
                            value={key}
                            checked={quizAnswers[question.id] === key}
                            onChange={(e) => handleQuizAnswer(question.id, e.target.value)}
                          />
                          <span className="option-text">{key.toUpperCase()}. {value}</span>
                        </label>
                      ))}
                    </div>
                  </div>
                ))}
                
                <div className="quiz-actions">
                  <button 
                    className="btn quiz-submit-btn"
                    onClick={handleSubmitQuiz}
                    disabled={Object.keys(quizAnswers).length < quizQuestions.length}
                  >
                    N·ªôp b√†i
                  </button>
                </div>

                {showQuizResult && (
                  <div className="quiz-result">
                    <h3>üìä K·∫øt qu·∫£ Quiz</h3>
                    <div className={`score-display ${quizScore! >= 80 ? 'pass' : 'fail'}`}>
                      <div className="score-number">{quizScore}%</div>
                      <div className="score-text">
                        {quizScore! >= 80 ? 'üéâ Xu·∫•t s·∫Øc! B·∫°n ƒë√£ v∆∞·ª£t qua!' : 'üòî Ch∆∞a ƒë·∫°t y√™u c·∫ßu. H√£y h·ªçc l·∫°i!'}
                      </div>
                    </div>
                    {quizScore! < 80 && (
                      <button 
                        className="btn retry-btn"
                        onClick={() => {
                          setQuizAnswers({});
                          setQuizScore(null);
                          setShowQuizResult(false);
                        }}
                      >
                        L√†m l·∫°i
                      </button>
                    )}
                  </div>
                )}
              </div>
            </div>
          )}

        </div>

        <div className="right-column">
          <div className="lesson-header">
            <h1>Module 1: Gi·ªõi Thi·ªáu Penetration Testing</h1>
          </div>
          
          {currentSection === 'theory' && (
            <div className="content-section">
              <h2>‚ö° Terminal th·ª±c h√†nh</h2>
              <button className="btn" onClick={handleRun}>{runLabel}</button>
              <div className="terminal">
                <div className="terminal-header">
                  <div className="terminal-title">üîê Kali Linux Terminal</div>
                  <div className="terminal-buttons">
                    <div className="terminal-btn close"></div>
                    <div className="terminal-btn minimize"></div>
                    <div className="terminal-btn maximize"></div>
                  </div>
                </div>
                <div className="terminal-content">
                  <div className="terminal-prompt">root@kali:~# </div>
                  <span>nmap -sV 192.168.1.100</span>
                </div>
              </div>
            </div>
          )}

          {currentSection === 'quiz' && (
            <div className="content-section quiz-stats-section">
              <h2 style={{
                background: 'linear-gradient(135deg, #667eea, #764ba2)',
                WebkitBackgroundClip: 'text',
                WebkitTextFillColor: 'transparent',
                backgroundClip: 'text',
                marginBottom: '1.5rem'
              }}>üìä Th·ªëng k√™ Quiz</h2>
              <div className="quiz-stats">
                <div className="stat-item">
                  <div className="stat-label">C√¢u h·ªèi ƒë√£ tr·∫£ l·ªùi</div>
                  <div className="stat-value">{Object.keys(quizAnswers).length}/{quizQuestions.length}</div>
                </div>
                <div className="stat-item">
                  <div className="stat-label">Ti·∫øn ƒë·ªô</div>
                  <div className="stat-value">{Math.round((Object.keys(quizAnswers).length / quizQuestions.length) * 100)}%</div>
                </div>
                {quizScore !== null && (
                  <div className="stat-item">
                    <div className="stat-label">ƒêi·ªÉm s·ªë</div>
                    <div className={`stat-value ${quizScore >= 80 ? 'pass' : 'fail'}`}>{quizScore}%</div>
                  </div>
                )}
              </div>
            </div>
          )}


        
          <div className="content-section">
            <h2>üìö T√†i li·ªáu tham kh·∫£o</h2>
            <div className="theory-section">
              <ul style={{ marginLeft: '20px' }}>
                <li><a href="https://nmap.org/book/man.html" target="_blank" rel="noopener noreferrer" style={{ color: '#4299e1' }}>Nmap Official Documentation</a></li>
                <li><a href="https://www.offensive-security.com/" target="_blank" rel="noopener noreferrer" style={{ color: '#4299e1' }}>Offensive Security</a></li>
                <li><a href="https://www.kali.org/docs/" target="_blank" rel="noopener noreferrer" style={{ color: '#4299e1' }}>Kali Linux Documentation</a></li>
              </ul>
            </div>
          </div>
        </div>
      </main>

      <style>{`
        /* Module Tabs */
        .module-tabs {
          display: flex;
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          border-radius: 12px;
          padding: 6px;
          margin: 1.5rem 0;
          gap: 6px;
          box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .tab-button {
          flex: 1;
          padding: 14px 20px;
          border: none;
          background: rgba(255, 255, 255, 0.1);
          border-radius: 8px;
          cursor: pointer;
          font-weight: 600;
          font-size: 1rem;
          transition: all 0.3s ease;
          color: rgba(255, 255, 255, 0.7);
          backdrop-filter: blur(10px);
        }

        .tab-button:hover {
          background: rgba(255, 255, 255, 0.2);
          color: white;
          transform: translateY(-2px);
        }

        .tab-button.active {
          background: rgba(255, 255, 255, 0.9);
          color: #667eea;
          box-shadow: 0 4px 12px rgba(255, 255, 255, 0.3);
          transform: translateY(-2px);
        }

        /* Quiz Styles */
        .quiz-container {
          max-width: 100%;
        }

        .quiz-question {
          margin-bottom: 2rem;
          padding: 2rem;
          background: linear-gradient(145deg, #ffffff, #f8f9fa);
          border-radius: 12px;
          border: 1px solid #e2e8f0;
          box-shadow: 0 4px 15px rgba(102, 126, 234, 0.1);
          position: relative;
          overflow: hidden;
        }

        .quiz-question::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          width: 4px;
          height: 100%;
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .quiz-question h4 {
          margin-bottom: 1.5rem;
          color: #2d3748;
          font-size: 1.2rem;
          font-weight: 600;
        }

        .quiz-options {
          display: flex;
          flex-direction: column;
          gap: 0.75rem;
        }

        .quiz-option {
          display: flex;
          align-items: flex-start;
          gap: 1rem;
          padding: 1rem 1.25rem;
          background: white;
          border: 2px solid #e2e8f0;
          border-radius: 8px;
          cursor: pointer;
          transition: all 0.3s ease;
          position: relative;
        }

        .quiz-option:hover {
          border-color: #667eea;
          background: linear-gradient(145deg, #f8f9ff, #ffffff);
          transform: translateX(4px);
          box-shadow: 0 2px 8px rgba(102, 126, 234, 0.15);
        }

        .quiz-option input[type="radio"]:checked + .option-text {
          color: #2d3748;
          font-weight: 600;
        }

        .quiz-option:has(input[type="radio"]:checked) {
          border-color: #667eea;
          background: linear-gradient(145deg, #667eea, #764ba2);
          color: white;
          box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .quiz-option:has(input[type="radio"]:checked) .option-text {
          color: white;
          font-weight: 600;
        }

        .quiz-option input[type="radio"] {
          margin: 0;
          margin-top: 2px;
          width: 18px;
          height: 18px;
          accent-color: #667eea;
        }

        .option-text {
          flex: 1;
          line-height: 1.6;
          color: #2d3748;
          font-weight: 500;
        }

        .quiz-actions {
          margin-top: 2rem;
          text-align: center;
        }

        .quiz-submit-btn {
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          color: white;
          padding: 14px 32px;
          border: none;
          border-radius: 25px;
          font-weight: 600;
          font-size: 1.1rem;
          cursor: pointer;
          transition: all 0.3s ease;
          box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .quiz-submit-btn:hover:not(:disabled) {
          background: linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%);
          transform: translateY(-3px);
          box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .quiz-submit-btn:disabled {
          background: linear-gradient(135deg, #9ca3af 0%, #6b7280 100%);
          cursor: not-allowed;
          transform: none;
          box-shadow: none;
        }

        .quiz-result {
          margin-top: 2rem;
          padding: 2.5rem;
          background: linear-gradient(145deg, #ffffff, #f8f9fa);
          border-radius: 15px;
          text-align: center;
          border: 1px solid #e2e8f0;
          box-shadow: 0 8px 25px rgba(102, 126, 234, 0.1);
        }

        .score-display {
          margin: 1rem 0;
        }

        .score-number {
          font-size: 3rem;
          font-weight: bold;
          margin-bottom: 0.5rem;
        }

        .score-display.pass .score-number {
          background: linear-gradient(135deg, #10b981, #059669);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .score-display.fail .score-number {
          background: linear-gradient(135deg, #ef4444, #dc2626);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .score-text {
          font-size: 1.2rem;
          font-weight: 500;
        }

        .retry-btn {
          background: linear-gradient(135deg, #f59e0b, #d97706);
          color: white;
          margin-top: 1rem;
          padding: 12px 24px;
          border: none;
          border-radius: 20px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s ease;
          box-shadow: 0 4px 12px rgba(245, 158, 11, 0.3);
        }

        .retry-btn:hover {
          background: linear-gradient(135deg, #d97706, #b45309);
          transform: translateY(-2px);
          box-shadow: 0 6px 16px rgba(245, 158, 11, 0.4);
        }

        /* Quiz Stats */
        .quiz-stats-section {
          background: linear-gradient(145deg, #ffffff, #f8f9fa);
          border-radius: 12px;
          padding: 1.5rem;
          border: 1px solid #e2e8f0;
          box-shadow: 0 4px 15px rgba(102, 126, 234, 0.1);
        }

        .quiz-stats {
          display: flex;
          flex-direction: column;
          gap: 1rem;
        }

        .stat-item {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 1.25rem;
          background: linear-gradient(145deg, #ffffff, #f8f9fa);
          border-radius: 10px;
          border: 1px solid #e2e8f0;
          box-shadow: 0 2px 8px rgba(102, 126, 234, 0.08);
        }

        .stat-label {
          font-weight: 600;
          color: #4a5568;
          font-size: 0.95rem;
        }

        .stat-value {
          font-weight: bold;
          font-size: 1.3rem;
          background: linear-gradient(135deg, #667eea, #764ba2);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .stat-value.pass {
          background: linear-gradient(135deg, #10b981, #059669);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .stat-value.fail {
          background: linear-gradient(135deg, #ef4444, #dc2626);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }


        @media (max-width: 768px) {
          .module-tabs {
            flex-direction: column;
            gap: 8px;
          }
          
          .tab-button {
            text-align: center;
            padding: 16px 20px;
          }
          
          .quiz-question {
            padding: 1.5rem;
          }
          
          .quiz-option {
            padding: 0.875rem 1rem;
          }
          
          .quiz-submit-btn {
            padding: 12px 24px;
            font-size: 1rem;
          }
        }
      `}</style>
    </div>
  );
};

export default PenTestModule1;

